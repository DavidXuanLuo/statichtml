<!doctype html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"><title>直播间GMV分页看板</title><style>body{font-family:-apple-system,BlinkMacSystemFont,"PingFang SC";background:#f6f7fb;margin:0}.w{max-width:960px;margin:auto;padding:12px}.tabs{display:flex;gap:8px;margin:8px 0}.tab{border:0;border-radius:999px;padding:8px 14px;background:#e5e7eb}.tab.a{background:#111827;color:#fff}.c{background:#fff;border-radius:12px;padding:12px;margin:10px 0}.k{display:grid;grid-template-columns:repeat(3,1fr);gap:8px}.i{background:#f8fafc;border-radius:8px;padding:8px}.m{color:#6b7280;font-size:12px}details{margin:6px 0}table{width:100%;font-size:12px;border-collapse:collapse}td,th{padding:4px;border-bottom:1px solid #eee;text-align:right}td:first-child,th:first-child{text-align:left}.warn{font-size:12px;color:#b45309}</style></head><body><div class="w"><h2 id="title">直播间GMV分页看板</h2><div class="tabs"><button class="tab a" id="t-pop">泡泡玛特</button><button class="tab" id="t-df">东方甄选</button></div><div class="m" id="meta"></div><div class="warn" id="note"></div><div class="c"><div class="k" id="mtd"></div></div><div class="c" id="daily"></div><div class="c" id="rooms"></div></div><script>
const state={name:'pop',data:null};
function f(v){return v==null?'未抓到':(v/1e4).toFixed(2)+'万'}
function render(d,name){state.name=name;state.data=d;document.getElementById('title').textContent=d.title;meta.textContent=`筛选:${d.meta.time_filter}｜分页:${d.meta.pages_traversed}｜抓取:${d.meta.total_rows_captured}条｜更新:${d.updated_at}`;note.textContent=d.meta.note?`说明：${d.meta.note}`:'';mtd.innerHTML=`<div class=i><div class=m>累计low</div><b>${f(d.month_to_date_total.low_gmv)}</b></div><div class=i><div class=m>累计estimate</div><b>${f(d.month_to_date_total.estimate_gmv)}</b></div><div class=i><div class=m>累计high</div><b>${f(d.month_to_date_total.high_gmv)}</b></div>`;daily.innerHTML=d.days.map(x=>`<details><summary>${x.date}｜总计 ${f(x.total.estimate_gmv)}</summary><div class=k>${['low_gmv','estimate_gmv','high_gmv'].map(k=>`<div class=i><div class=m>${k}</div><b>${f(x.total[k])}</b></div>`).join('')}</div></details>`).join('');const rm={};d.rooms.forEach(r=>rm[r]=[]);d.days.forEach(day=>day.rooms.forEach(r=>{if(rm[r.room_name])rm[r.room_name].push({date:day.date,...r})}));rooms.innerHTML=Object.entries(rm).map(([n,arr])=>`<details><summary>${n}</summary><table><tr><th>日期</th><th>low</th><th>est</th><th>high</th></tr>${arr.map(r=>`<tr><td>${r.date}</td><td>${f(r.low_gmv)}</td><td>${f(r.estimate_gmv)}</td><td>${f(r.high_gmv)}</td></tr>`).join('')}</table></details>`).join('');
}
async function loadPop(){const d=await (await fetch('./data/popmart-liverooms-2026-02.json')).json();render(d,'pop');tPop.className='tab a';tDf.className='tab';}
async function loadDf(){const d=await (await fetch('./data/dongfangzhenxuan-liverooms-2026-02.json')).json();render(d,'df');tDf.className='tab a';tPop.className='tab';}
const tPop=document.getElementById('t-pop'),tDf=document.getElementById('t-df');tPop.onclick=loadPop;tDf.onclick=loadDf;loadPop();
</script></body></html>