<!doctype html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>X</title>
<style>
:root{--bg:#fff;--text:#0f1419;--sub:#536471;--line:#eff3f4;--blue:#1d9bf0;--chip:#f7f9f9}
*{box-sizing:border-box}body{margin:0;background:#fff;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"PingFang SC",sans-serif;color:var(--text)}
.app{max-width:430px;margin:0 auto;min-height:100vh;border-left:1px solid var(--line);border-right:1px solid var(--line);background:#fff}
.top{position:sticky;top:0;background:rgba(255,255,255,.95);backdrop-filter:blur(12px);z-index:10;border-bottom:1px solid var(--line)}
.bar{height:52px;display:flex;align-items:center;justify-content:center;font-size:29px;font-weight:300}.tabs{display:flex;height:46px}.tab{flex:1;text-align:center;font-size:15px;color:var(--sub);padding-top:14px;position:relative}.tab.on{font-weight:700;color:var(--text)}.tab.on:after{content:"";position:absolute;left:34%;right:34%;bottom:0;height:4px;border-radius:999px;background:var(--blue)}
.tweet{display:flex;gap:10px;padding:12px 14px;border-bottom:1px solid var(--line);cursor:pointer}
.av{width:40px;height:40px;border-radius:50%;object-fit:cover;flex:0 0 40px;background:#eef3f5}.main{min-width:0;flex:1}.head{display:flex;gap:6px;align-items:center;white-space:nowrap;overflow:hidden}.name{font-weight:700;font-size:15px;overflow:hidden;text-overflow:ellipsis}.handle,.time,.dot{color:var(--sub);font-size:15px}
.zh{margin-top:4px;white-space:pre-wrap;font-size:17px;line-height:1.35}.tag{display:inline-block;margin-top:6px;background:var(--chip);border:1px solid #dbe3e7;border-radius:999px;padding:2px 8px;font-size:11px;color:#455a64}
details{margin-top:8px}summary{color:var(--blue);font-size:13px;cursor:pointer;list-style:none}summary::-webkit-details-marker{display:none}.en{margin-top:6px;color:#4b5f6a;font-size:13px;line-height:1.45;white-space:pre-wrap}
.actions{display:grid;grid-template-columns:repeat(5,1fr);margin-top:10px;color:var(--sub);font-size:13px}.act{display:flex;align-items:center;gap:4px}.n{font-size:12px}
.page{display:none}.page.on{display:block}
.dtop{position:sticky;top:0;height:52px;display:flex;align-items:center;gap:14px;padding:0 12px;border-bottom:1px solid var(--line);background:rgba(255,255,255,.96);backdrop-filter:blur(10px)}
.back{border:0;background:none;font-size:22px;cursor:pointer}.tt{font-size:20px;font-weight:700}
.sep{height:8px;background:#f7f9f9;border-top:1px solid var(--line);border-bottom:1px solid var(--line)}
.comment{display:flex;gap:10px;padding:12px 14px;border-bottom:1px solid var(--line)}
</style>
</head>
<body>
<div class="app">
  <div class="top"><div class="bar">ùïè</div><div class="tabs"><div class="tab on">‰∏∫‰Ω†Êé®Ëçê</div><div class="tab">Ê≠£Âú®ÂÖ≥Ê≥®</div></div></div>
  <section id="feed" class="page on"></section>
  <section id="detail" class="page"></section>
</div>
<script>
const ic={r:'‚Ü©',rt:'‚ü≤',l:'‚ô°',v:'‚ñ§',s:'‚Üó'};
let posts=[];
const feed=document.getElementById('feed'),detail=document.getElementById('detail');
const esc=s=>String(s||'').replace(/[&<>"']/g,m=>({"&":"&amp;","<":"&lt;",">":"&gt;","\"":"&quot;","'":"&#39;"}[m]));
function row(p,i){return `<article class="tweet" data-i="${i}"><img class="av" src="${esc(p.avatar)}"/><div class="main"><div class="head"><span class="name">${esc(p.name)}</span><span class="handle">${esc(p.handle)}</span><span class="dot">¬∑</span><span class="time">${new Date(p.time).toLocaleDateString('zh-CN',{month:'numeric',day:'numeric'})}</span></div><span class="tag">${esc(p.ticker)}</span><div class="zh">${esc(p.zh)}</div><details><summary>Êü•ÁúãÂéüÊñá</summary><div class="en">${esc(p.text)}</div></details><div class="actions"><div class="act">${ic.r}<span class="n">${p.counts.reply}</span></div><div class="act">${ic.rt}<span class="n">${p.counts.repost}</span></div><div class="act">${ic.l}<span class="n">${p.counts.like}</span></div><div class="act">${ic.v}<span class="n">${p.counts.view}</span></div><div class="act">${ic.s}</div></div></div></article>`}
function renderFeed(){feed.innerHTML=posts.map(row).join('');}
function renderDetail(i){const p=posts[i];detail.innerHTML=`<div class="dtop"><button class="back" id="back">‚Üê</button><div class="tt">Â∏ñÂ≠ê</div></div>${row(p,i)}<div class="sep"></div>${p.comments.map(c=>`<article class="comment"><img class="av" src="${esc(c.avatar)}" style="width:36px;height:36px;flex-basis:36px"/><div class="main"><div class="head"><span class="name">${esc(c.name)}</span><span class="handle">${esc(c.handle)}</span><span class="dot">¬∑</span><span class="time">${new Date(c.time).toLocaleDateString('zh-CN',{month:'numeric',day:'numeric'})}</span></div><div class="zh">${esc(c.zh)}</div><details><summary>Êü•ÁúãÂéüÊñá</summary><div class="en">${esc(c.text)}</div></details><div class="actions"><div class="act">${ic.r}<span class="n">${c.counts.reply}</span></div><div class="act">${ic.rt}<span class="n">${c.counts.repost}</span></div><div class="act">${ic.l}<span class="n">${c.counts.like}</span></div><div class="act">${ic.v}<span class="n">${c.counts.view}</span></div><div></div></div></div></article>`).join('')}`;
feed.classList.remove('on'); detail.classList.add('on');
  document.getElementById('back').onclick=()=>{detail.classList.remove('on');feed.classList.add('on');window.scrollTo(0,0)}
}
feed.addEventListener('click',e=>{const t=e.target.closest('[data-i]'); if(t) renderDetail(+t.dataset.i)});
fetch('./stocks-tweets-data.json').then(r=>r.json()).then(d=>{posts=d.posts.slice(0,50).map(p=>({...p,comments:(p.comments||[]).slice(0,50)}));renderFeed();});
</script>
</body>
</html>
