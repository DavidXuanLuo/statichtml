<!doctype html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"><title>Tesla 关键进展时间线</title><style>body{font-family:-apple-system,BlinkMacSystemFont,"PingFang SC";background:#f6f7fb;margin:0;color:#111827}.w{max-width:960px;margin:auto;padding:12px}.c{background:#fff;border-radius:12px;padding:12px;margin:10px 0}.m{color:#6b7280;font-size:12px}.row{display:flex;justify-content:space-between;align-items:center;gap:8px;flex-wrap:wrap}.chips{display:flex;gap:8px;flex-wrap:wrap}.chip{border:0;border-radius:999px;padding:6px 12px;background:#e5e7eb;cursor:pointer}.chip.a{background:#111827;color:#fff}.item{border-left:3px solid #e5e7eb;padding:10px 10px 10px 12px;margin:10px 0;background:#fafafa;border-radius:8px}.date{font-size:12px;color:#6b7280}.tag{font-size:11px;padding:2px 8px;border-radius:999px;background:#e5e7eb;margin-left:8px}.imp-high{background:#fee2e2}.imp-medium{background:#fef3c7}.imp-low{background:#dcfce7}.title{font-weight:600;margin:4px 0}.src a{font-size:12px;color:#2563eb;text-decoration:none}.empty{padding:18px;text-align:center;color:#6b7280}@media(max-width:640px){.w{padding:10px}}</style></head><body><div class="w"><div class="c"><div class="row"><div><h2 id="title" style="margin:0">Tesla 关键进展时间线</h2><div class="m" id="sub"></div></div><div class="m" id="meta"></div></div></div><div class="c"><div class="row"><b>筛选</b><div class="chips" id="chips"></div></div></div><div class="c"><div id="list"></div></div></div><script>const state={data:null,cat:'全部'};const cats=['全部','财报','销量','FSD','Robotaxi','储能','监管','其他'];const chips=document.getElementById('chips');const list=document.getElementById('list');function esc(s){return (s||'').replace(/[&<>\"]/g,m=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;'}[m]))}function drawChips(){chips.innerHTML=cats.map(c=>`<button class="chip${state.cat===c?' a':''}" data-c="${c}">${c}</button>`).join('');chips.querySelectorAll('button').forEach(b=>b.onclick=()=>{state.cat=b.dataset.c;drawChips();render();});}function render(){const arr=[...(state.data?.events||[])].filter(x=>state.cat==='全部'||x.category===state.cat).sort((a,b)=>b.date.localeCompare(a.date));if(!arr.length){list.innerHTML='<div class="empty">当前筛选无数据</div>';return;}list.innerHTML=arr.map(e=>`<div class="item"><div class="row"><div class="date">${esc(e.date)} <span class="tag">${esc(e.category||'其他')}</span></div><div class="tag imp-${e.impact||'low'}">${e.impact==='high'?'高影响':e.impact==='medium'?'中影响':'低影响'}</div></div><div class="title">${esc(e.title)}</div><div>${esc(e.summary)}</div><div class="src" style="margin-top:6px">来源：${e.source&&e.source.startsWith('http')?`<a href="${esc(e.source)}" target="_blank">${esc(e.source)}</a>`:esc(e.source||'待补充')}</div></div>`).join('');}
(async()=>{const d=await (await fetch('./data/tesla-timeline.json')).json();state.data=d;document.getElementById('title').textContent=d.meta?.title||'Tesla 关键进展时间线';document.getElementById('sub').textContent=d.meta?.subtitle||'';document.getElementById('meta').textContent=`更新：${d.meta?.last_updated||'-'} ｜ 时区：${d.meta?.timezone||'-'}`;drawChips();render();})();</script></body></html>